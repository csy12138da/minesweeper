# Python 扫雷游戏

一个用Python实现的经典扫雷游戏，支持命令行交互和GUI界面。

## 功能特性

- 🎮 **完整的扫雷游戏逻辑** - 包括地雷放置、相邻计数、洪水填充等
- 🎯 **多种难度级别** - 简单、中等、困难，以及自定义设置
- 🚩 **标记功能** - 可以标记可疑的地雷位置
- 💥 **自动展开** - 揭开空格时自动展开周围的格子
- 🏆 **胜利检测** - 自动检测游戏胜利条件
- 📊 **清晰的界面** - 显示行号、列号和剩余地雷数
- 🖥️ **GUI界面** - 基于tkinter的图形用户界面
- 🚀 **启动器** - 方便选择游戏模式和界面类型

## 运行游戏

### 使用启动器（推荐）
```bash
python3 minesweeper_launcher.py
```

### 直接运行游戏
```bash
# 命令行版本
python3 minesweeper.py

# GUI版本
python3 minesweeper_gui.py
```

### 运行测试
```bash
# 单元测试
python3 test_minesweeper.py

# GUI测试
python3 test_gui_minesweeper.py
```

### 运行演示
```bash
python3 demo_minesweeper.py
```

## 游戏模式

1. **命令行模式** - 传统文本界面
2. **GUI模式** - 图形用户界面

### 难度级别
- **简单**: 8×8格子，10个地雷
- **中等**: 16×16格子，40个地雷
- **困难**: 16×30格子，99个地雷
- **自定义**: 自定义行数、列数和地雷数

## 游戏规则

1. **目标**: 揭开所有不是地雷的格子
2. **数字**: 表示周围8个格子中地雷的数量
3. **标记**: 用'F'标记可疑的地雷位置
4. **失败**: 揭到地雷则游戏结束
5. **胜利**: 成功揭开所有非地雷格子

## 操作说明

### 命令行版本
- **揭开格子**: `行 列` (例如: `0 0`)
- **标记地雷**: `行 列 f` (例如: `0 0 f`)
- **退出游戏**: `行 列 q` 或直接按 Ctrl+C

### GUI版本
- **左键点击**: 揭开格子
- **右键点击**: 标记/取消标记地雷
- **笑脸按钮**: 开始新游戏
- **难度按钮**: 切换游戏难度

## 界面说明

### 命令行界面
```
扫雷游戏 - 剩余地雷: 8
状态: 进行中

   0  1  2  3  4  5  6  7
   --------------------------
 0| 1  ?  ?  ?  ?  ?  ?  ?
 1| ?  1  ?  ?  ?  ?  ?  ?
 2| ?  ?  F  ?  ?  ?  ?  ?
 3| ?  ?  ?  2  ?  ?  ?  ?
 ...
```

- `?` 未揭开的格子
- `F` 已标记的格子
- `0-8` 已揭开的格子(数字表示周围地雷数)

### GUI界面
- **地雷计数器**: 显示剩余地雷数量
- **计时器**: 显示游戏用时
- **笑脸按钮**: 点击开始新游戏，游戏结束时显示表情
- **游戏板**: 点击格子进行游戏

## 文件结构

```
├── minesweeper.py           # 核心游戏逻辑
├── minesweeper_gui.py       # GUI界面实现
├── minesweeper_launcher.py  # 游戏启动器
├── demo_minesweeper.py      # 演示脚本
├── test_minesweeper.py      # 单元测试
├── test_gui_minesweeper.py  # GUI测试
└── README.md                # 说明文档
```

## 技术实现

### 核心算法
- **地雷生成**: 随机分布算法，避开第一次点击位置
- **相邻计算**: 八方向遍历计算周围地雷数
- **洪水填充**: 递归展开空格区域
- **游戏状态**: 胜利/失败条件检测

### 数据结构
```python
# 游戏板: -1表示地雷，0-8表示周围地雷数
self.board: List[List[int]]

# 玩家可见状态: False未揭开, True已揭开
self.revealed: List[List[bool]]

# 标记状态: False未标记, True已标记
self.flagged: List[List[bool]]
```

## 系统要求

- Python 3.6+
- tkinter (GUI界面，通常Python自带)
- 支持的操作系统: Linux, macOS, Windows

## 扩展功能

可以进一步添加的功能：
- 🏅 计时器和分数系统
- 💾 游戏存档功能
- 🎵 音效支持
- 🌐 多语言支持
- 🎨 更多主题和皮肤
- 📊 统计数据记录

## 许可证

MIT License - 可自由使用和修改。

## 贡献

欢迎提交Issue和Pull Request来改进这个项目！